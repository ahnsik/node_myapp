<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="favicon.ico">
    <meta charset="UTF-8" lang="kr">
    <title>ë‚´ ê²Œì‹œíŒ</title>
    <link rel="stylesheet" type="text/css" href="./css/all_fonts.css" />
    <link rel="stylesheet" type="text/css" href="./css/ccash_style.css" />
    <link rel="stylesheet" type="text/css" href="./css/ccash_style_mobile.css" />
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css"> -->
</head>
<body>
  <div id="wrap">
    <header>
      <a class="logo" href="#home"><img src="cas_logo.svg"></a>
      <nav>
        <ul class="nav-items">
          <li><a href="#contact">Interesting</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="#about">About</a></li>
        </ul>
      </nav>
    </header>

    <!-- <div id="content-wrap"> -->
      <aside>
        <h1>ê¸€<sup>ì£¼</sup><sub>ì›Œ</sub>ëª¨ìŒ <a href="diary/write">âœï¸</a> </h1>
        <ul id="chapter">
        </ul>
      </aside>

      <section id="contents">
            <span style="display:none;"> you can USE these Icons for EDIT button. âœğŸ¼âœï¸ğŸ› ï¸ğŸ–ï¸âœ’ï¸ğŸ–‹ï¸ğŸªš</span>
            <span style="display:none;"> you can USE these Icons for DELETE button. ğŸš®âŒğŸ—‘ï¸</span>
      <% for(i = 0; i < data.length; i++) { %>
        <article id=<%- data[i].title.replaceAll(' ', '_'); %> class="markdown-body">
        <h2><%- data[i].title %></h2>
        <p class="control_block">
          <span class="date_written"><%- data[i].wrdate %></span>
          <span class="btn" id="edit"><a href="diary/write?wrdate=<%- data[i].wrdate %>">âœï¸</a></span> 
          <span class="btn" id="delete" onclick="make_confirm('<%- data[i].wrdate %>');">âŒ</span>
        </p>
        <p><%- data[i].content %></p>
        </article>
      <% } %>
      </section>
    <!-- </div>      end of content-wrap -->
    <footer>
      Mail to:  <a href="mailto:ccash@daum.net">CAS </a>
    </footer>
  </div>        <!-- end of wrap   -->
</body>

<script>    /* ëª©ë¡ ìë™ ë§Œë“¤ê¸° */
window.onload = function main() {
    let dom_chapter = document.getElementById("chapter");
    let articles = document.getElementsByTagName("article");
    for (var i=0; i<articles.length; i++) {
    let subject = articles[i].getElementsByTagName("h2");
    let new_chaper = document.createElement("li");
    new_chaper.innerHTML = "<a href='#"+articles[i].id+"' class='active'>"+subject[0].innerHTML+"</a>";
    dom_chapter.append(new_chaper);
    }
}
function edit_post(id) {
  console.log("edit post where wrdate="+id);
}
function delete_post(id) {
  console.log("delete post where wrdate="+id);
}

function make_confirm(wrdate) {
  if (confirm(wrdate+"\n ì´ ë°ì´í„°ë¥¼ ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
    // Yesë¥¼ ëˆŒë €ì„ ê²½ìš° ì„œë²„ì— ì‚­ì œ ìš”ì²­
    console.log( "diary/delete?wrdate="+wrdate);
    window.location.href = 'diary/delete?wrdate='+wrdate;
  } else {
    // Noë¥¼ ëˆŒë €ì„ ê²½ìš°
    alert("ì‚­ì œê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.");
  }
}

</script>
</html>
