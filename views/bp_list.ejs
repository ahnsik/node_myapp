<!DOCTYPE html>
<html lang="kr" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- <link rel="stylesheet" type="text/css" href="/css/carstyle.css" /> -->
    <title>혈압 기록 리스트</title>
    <style type="text/css">
      * {
        margin: 0;
        font-size: 12px;
      }
      /* table {
        border : 1px solid black;
        border-collapse: collapse;
      } */
      table, td, th {
        border : 1px solid black;
        border-collapse : collapse;
      };
    </style>
  </head>
  <body>
      <div class="page-container">
        <h3>최근 입력된 체성분 기록을 보여줌.</h3>
        <div style="margin-bottom:4px; font-size:0.9rem; display:flex; gap:8px; align-items:center;">
          <label for="rowLimit">표시 행 수:</label>
          <select id="rowLimit">
            <option value="10" <%= (limit==10) ? 'selected' : '' %>>10</option>
            <option value="15" <%= (limit==15) ? 'selected' : '' %>>15</option>
            <option value="25" <%= (limit==25) ? 'selected' : '' %>>25</option>
            <option value="50" <%= (limit==50) ? 'selected' : '' %>>50</option>
            <option value="100" <%= (limit==100) ? 'selected' : '' %>>100</option>
          </select>
        </div>
        <div class="table-wrapper">
      <table class="responsive-table" role="table">
        <!-- <colgroup>
            <col width='60'><col width='80'><col width='200'><col width='100'>
        </colgroup> -->
        <thead>
            <tr>
                <th>일시</th>
                <th colspan="2">혈압</th>
                <th>맥박</th>
                <th>체중</th>
                <th>체지방율</th>
                <th>비만도</th>
                <th>내장지방</th>
                <th>bmi</th>
                <th>수면시간</th>
                <th>스트레칭</th>
                <th>유산소운동</th>
            </tr>
        </thead>
        <tbody>
            <% for(i = 0; i < list.length; i++) { %>
             <tr>
              <td><%=list[i].date_written.substring(2,10) %></td>
              <td><%=list[i].bp_h %></td>
              <td><%=list[i].bp_l %></td>
              <td><%=list[i].pulse %></td>
              <td><%=list[i].weight %></td>
              <td><%=list[i].body_fat %></td>
              <td><%=list[i].fat_factor %></td>
              <td><%=list[i].metabolism %></td>
              <td><%=list[i].bmi %></td>
              <td><%=list[i].slepttime %></td>
              <td><%=list[i].stretching %></td>
              <td><%=list[i].aerobic_workout %></td>
            </tr>
            <% } %>
        </tbody>
    </table>
      </div> <!-- .table-wrapper -->
      </div> <!-- .page-container -->
      <script>
        document.getElementById('rowLimit').addEventListener('change', function(e){
          var val = e.target.value;
          var url = new URL(window.location.href);
          url.searchParams.set('limit', val);
          window.location.href = url.toString();
        });
      </script>

    <!-- <script type="text/javascript"> -->
    <%
      function  DateFormat(d) {
        return  d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();
      } %>
    <!-- </script> -->

  </body>
</html>
